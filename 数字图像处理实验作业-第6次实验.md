
# 数字图像处理实验作业-第6次实验

**姓名：姜彦凯**

**班级：自动化少61**

**学号：2140506083**

**提交日期：2019年4月2日**


## 摘要
滤波器可分为空域滤波和频域滤波，空域滤波器有均值滤波器，统计排序滤波器和自适应滤波器；频域滤波器有逆滤波和维纳滤波器等。常见的噪声有高斯噪声和椒盐噪声。本文采用算术几何滤波器，集合均值滤波器，逆滤波器，维纳滤波器分别对被高斯噪声和椒盐噪声污染的图片进行滤波,利用python根据各种滤波器在时域和频域的性质可以编写程序对图像进行复原。
> * 1.在测试图像上产生高斯噪声lena图-需能指定均值和方差；并用多种滤波器恢复图像，分析各自优缺点；
> * 2.在测试图像lena图加入椒盐噪声（椒和盐噪声密度均是0.1）；用学过的滤波器恢复图像；在使用反谐波分析Q大于0和小于0的作用；    
> * 3.推导维纳滤波器并实现下边要求；
(a) 实现模糊滤波器如方程Eq. (5.6-11).
(b) 模糊lena图像：45度方向，T=1；
(c) 再模糊的lena图像中增加高斯噪声，均值= 0 ，方差=10 pixels 以产生模糊图像；
(d)分别利用方程 Eq. (5.8-6)和(5.9-4)，恢复图像；并分析算法的优缺点.

## 作业实验任务 

### 一、
####第一题

------

### 1. 产生高斯噪声并用多种滤波器恢复图像

    1)高斯噪声
    就是符合正态分布的一组噪声，其关于随机变量z的PDF表示为：
$$P(z)=\frac{1}{\sqrt{2\pi\sigma}}exp[-\frac{(z-u)^2}{2\sigma^2}]$$

    2）算数均值滤波器：
$$f(x,y)=\frac{1}{mn}\sum{g(s,t)}$$
    其中 s，t为所选m*n大小区域中所有点的x，y坐标
    
    3）几何均值滤波器
$$f(x,y)=[\prod{g(s,t)}]^{\frac{1}{mn}}$$

    4)谐波均值滤波器
$$f(x,y)=\frac{mn}{\sum{\frac{1}{g(s,t)}}}$$

    5)逆谐波均值滤波器
$$f(x,y)=\frac{\sum{g(s,t)^{Q+1}}}{\sum{g(s,t)^{Q}}}$$


####**添加均值为0，方差为30的高斯噪声**
![][1]
####**均值滤波**
![][2]
####**中值滤波**
![][3]
####**高斯滤波**
![][4]
###**分析图片结果** 
中值滤波器的主要功能是使拥有不同灰度的点更接近于它的相邻点。事实上，使用m×m 中值滤波器来去除那些相对于其邻域像素更亮或更暗并且其区域小于m^2/2（滤波器区域的一半）的孤立像素族。在这种情况下，“去除“的意思是强制为邻域的中值灰度。较大的族所受到的影响明显较小。从处理后的图像看，图像的平滑效果较为明显，且受窗口的影响，窗口越大，平滑效果越明显，图像细节越模糊，尤其是test2中人脸图像的眼睛部分，随着滤波器模板的增大，可以明显的感受到图像模糊的效果。因为加上高斯噪声后，噪声图像有些像素的灰度值变为了0，导致几何均值滤波计算后一些3*3的区域灰度值都为0



高斯滤波是一种线性平滑滤波，适用于消除高斯噪声，广泛应用于图像处理的减噪过程。 通俗的讲，高斯滤波就是对整幅图像进行加权平均的过程，每一个像素点的值，都由其本身和邻域内的其他像素值经过加权平均后得到。高斯滤波的具体操作是：用一个模板（或称卷积、掩模）扫描图像中的每一个像素，用模板确定的邻域内像素的加权平均灰度值去替代模板中心像素点的值。从处理后的图像看，图像的平滑效果较为明显，且受窗口的影响， 窗口越大，平滑效果越明显，图像细节越模糊。
### **加入椒盐噪声(密度为0.1)**
逆谐波均值滤波对Q大于0
![][5]
逆谐波均值滤波对Q小于0
![][6]
###**图像分析**
椒盐噪声由插点构建，首先由矩阵大小与信噪比计算要插入‘椒点’与‘盐点’的个数，创造一个新的m*n大小矩阵，随机插入点后，将新矩阵该点数值设为1，当插入点在新矩阵中为1时，重新插点。
    反谐波均值滤波，当Q>0时，滤除椒噪声；当Q<0时，滤除盐u噪声，但当Q绝对值过大时，滤除部分过大，图像效果就很差。椒盐噪声高通滤波肯定是失败的，但低通也会有较为明显的噪声，固我们可以用两次逆谐波均值滤波器，一次Q为正，一次为负，调整好参数来去除椒盐噪声。

 

### 二、维纳滤波器
####**实现公式**：见代码
####推导：
![][12]
####**运动模糊并添加高斯噪声**
![][7]


####**最小均方差滤波（选择参数为0.06）**
![][9]


####**约束最小二乘方滤波（选择参数为7e-14）**
![][8]
约束最小二乘滤波器在处理具有运动模糊和高斯噪声的噪声图像比简化维纳滤波器有着更好的处理效果，在简化维纳滤波器的结果图中还有一些运动模糊的痕迹，而约束最小二乘滤波器的处理结果则和原图相差无几。两种滤波器不同就在于约束最小二乘滤波器采用拉普拉斯算子的傅里叶变换对噪声图进行了处理，在高噪声和中等噪声的处理上有着比简化维纳滤波更好的处理结果。


 


## 附录

代码详见文件

 

## 参考文献

####[1] 冈萨雷斯, 数字图像处理（第三版）, 电子工业出版社
------


  [1]: https://raw.githubusercontent.com/XJTUJYK/hw6/master/1.png
  [2]:https://raw.githubusercontent.com/XJTUJYK/hw6/master/2.png
  [3]:https://raw.githubusercontent.com/XJTUJYK/hw6/master/3.png
  [4]:https://raw.githubusercontent.com/XJTUJYK/hw6/master/4.png
  [5]:https://raw.githubusercontent.com/XJTUJYK/hw6/master/5.png
  [6]:https://raw.githubusercontent.com/XJTUJYK/hw6/master/6.png
  [7]:https://raw.githubusercontent.com/XJTUJYK/hw6/master/7.png
  [8]:https://raw.githubusercontent.com/XJTUJYK/hw6/master/8.png
  [9]:https://raw.githubusercontent.com/XJTUJYK/hw6/master/9.png
  [10]:https://raw.githubusercontent.com/XJTUJYK/hw6/master/1.bmp
  [11]:https://raw.githubusercontent.com/XJTUJYK/hw6/master/2.bmp
  [12]:https://raw.githubusercontent.com/XJTUJYK/hw6/master/11.jpg
  
  
